<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WaySub</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!--stylesheets-->
    <link href="../styles/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="../styles/core.css" rel="stylesheet" type="text/css">
    <link href="../styles/navbar.css" rel="stylesheet" type="text/css">
    <link href="../styles/checkboxes.css" rel="stylesheet" type="text/css">
    <link href="../styles/accordion.css" rel="stylesheet" type="text/css">





    <!--logo-->
    <link href="../images/logo.png" rel="shortcut icon">

    <!-- importing google's fonts -->
    <link href="https://fonts.googleapis.com/css?family=Merriweather" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Crimson+Text" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script>
        $(document).ready(function() {
            $(".header").load("main.html .header");
            $(".footer").load("main.html .footer");
        });
    </script>

    <!--javascript files-->
    <script src="../scripts/bootstrap.min.js"></script>
    <script src="../scripts/get_ingredient_options.js"></script>
    <script src="../scripts/submit_order.js"></script>
    <script src="../scripts/create_order.js"></script>
    <script src="../scripts/order_favorite.js"></script>
    <script src="../scripts/alerts.js"></script>

    <!--Google sign-in-->
    <script src="../scripts/google_signin.js"></script>
    <script src="https://apis.google.com/js/client:platform.js?onload=start" async defer></script>
    <script>
        // console.log(getCookie('authCode'));
        if (getCookie('authCode') === null){
            window.location.href = "login.html";
        }
    </script>
</head>
<body>

<div class ="header"></div>

<div class="info">
    <div class="sidecol">
        <img alt="" src="../images/graytexture.png">
    </div>

    <div class="middlecol">
        <div class="alerts">
            <div class="alert"><span class="closebtn" onclick="closeAlert(this.parentElement)">&times;</span><div class="alert-msg"></div></div>
        </div>
        <h2> Select Your Ingredients</h2>
        <div id="ingredients-list"></div>
        <div class="finalize">
            <br><h2> Finalize Your Order</h2><br>
            <div class = "lunchbuttons">
                <h3>Select Lunch</h3>
                <input type="radio" name="lunch" value="1"> 1st<br>
                <input type="radio" name="lunch" value="2"> 2nd<br>
                <input type="radio" name="lunch" value="3"> 3rd<br>
            </div>

            <button type="button" class="btn btn-primary btn-lg" id="createOrder" data-toggle="modal" data-target="#myModal1" onclick="buildOrder();">
                Submit Order
            </button>

        </div>


        <div class="modal" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close close-button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" >Order Summary:</h4>
                    </div>
                    <div class="modal-body" id="order_summary_modal"></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default close-button" data-dismiss="modal">Go Back</button>
                        <button type="button" class="btn btn-default btn-next" onclick="postOrder()">Finalize Order</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close close-button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Your Order Has been Submitted!</h4>
                    </div>
                    <div class="modal-body" id="order_submitted_modal">
                        Would you like to save this order as a favorite?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default close-button" data-dismiss="modal">No</button>
                        <button type="button" class="btn btn-default btn-next" onclick="nameFavoriteOrder()">Yes</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close close-button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">Save Favorite Order</h4>
                    </div>
                    <div class="modal-body" id="make_favorite_modal">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default btn-prev">Go Back</button>
                        <button type="button" class="btn btn-default" id="save_favorite_button" data-dismiss="modal" onclick="saveFavoriteOrder()">Save</button>
                    </div>
                </div>
            </div>
        </div>


        <script>
            $("div[id^='myModal']").each(function(){

                var currentModal = $(this);

                //click next
                currentModal.find('.btn-next').click(function(){
                    currentModal.modal('hide');
                    currentModal.closest("div[id^='myModal']").nextAll("div[id^='myModal']").first().modal('show');
                });

                //click prev
                currentModal.find('.btn-prev').click(function(){
                    currentModal.modal('hide');
                    currentModal.closest("div[id^='myModal']").prevAll("div[id^='myModal']").first().modal('show');
                });

            });

        </script>

        <!--<button id = "orderBtn" onclick="buildOrder();"> Submit Order</button>-->
        <!--<div id="orderPopup" class="popup">-->
            <!--<div class="popup-content">-->
                <!--<span class="close">&times;</span>-->
                <!--<div id = "order_summary"></div>-->
            <!--</div>-->
        <!--</div>-->


    </div>

    <div class="sidecol">
        <img alt="" src="../images/graytexture.png">
    </div>
</div>


<div class="footer"></div>
</body>
</html>